{"ast":null,"code":"var _jsxFileName = \"/home/amirul/Desktop/Career/MERN/simple-login-app/frontend/src/components/Login.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Button, TextField, Typography, Container } from '@mui/material';\nimport axios from 'axios';\n\n// Login component for user login and validation of credentials before redirecting to home page with user details passed as query params\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [name, setName] = useState('');\n  const [dob, setDob] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  // Function to calculate age from date of birth\n  const calculateAge = dob => {\n    const birthDate = new Date(dob);\n    const ageDifMs = Date.now() - birthDate.getTime();\n    const ageDate = new Date(ageDifMs); // milliseconds from epoch\n    return Math.abs(ageDate.getUTCFullYear() - 1970);\n  };\n\n  // Function to handle form submission\n  const handleSubmit = async event => {\n    event.preventDefault();\n    const age = calculateAge(dob);\n\n    // Validate age between 18 and 50 years old and display error message if not valid else redirect to home page with user details\n    if (age < 18 || age > 50) {\n      setError('Age must be between 18 and 50.');\n      return;\n    }\n    try {\n      const response = await axios.post('http://localhost:5000/api/login', {\n        name,\n        password\n      });\n      if (response.status === 200) {\n        window.location.href = `/home?name=${name}&age=${age}`;\n      }\n    } catch (err) {\n      setError('Authentication failed. Please check your credentials.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Container, {\n    maxWidth: \"sm\",\n    sx: {\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n      justifyContent: 'center',\n      minHeight: '100vh'\n    },\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      align: \"center\",\n      gutterBottom: true,\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(Typography, {\n      color: \"error\",\n      align: \"center\",\n      gutterBottom: true,\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: {\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Name\",\n        margin: \"normal\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Date of Birth\",\n        type: \"date\",\n        margin: \"normal\",\n        InputLabelProps: {\n          shrink: true\n        },\n        value: dob,\n        onChange: e => setDob(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        fullWidth: true,\n        label: \"Password\",\n        type: \"password\",\n        margin: \"normal\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        type: \"submit\",\n        variant: \"contained\",\n        color: \"primary\",\n        fullWidth: true,\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n_s(Login, \"+nOKr87soxC2f9pqaA/wuAirNpg=\");\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","Button","TextField","Typography","Container","axios","jsxDEV","_jsxDEV","Login","_s","name","setName","dob","setDob","password","setPassword","error","setError","calculateAge","birthDate","Date","ageDifMs","now","getTime","ageDate","Math","abs","getUTCFullYear","handleSubmit","event","preventDefault","age","response","post","status","window","location","href","err","maxWidth","sx","display","flexDirection","alignItems","justifyContent","minHeight","children","variant","align","gutterBottom","fileName","_jsxFileName","lineNumber","columnNumber","color","onSubmit","style","width","fullWidth","label","margin","value","onChange","e","target","required","type","InputLabelProps","shrink","_c","$RefreshReg$"],"sources":["/home/amirul/Desktop/Career/MERN/simple-login-app/frontend/src/components/Login.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { Button, TextField, Typography, Container } from '@mui/material';\nimport axios from 'axios';\n\n// Login component for user login and validation of credentials before redirecting to home page with user details passed as query params\nconst Login = () => {\n  const [name, setName] = useState('');\n  const [dob, setDob] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n\n  // Function to calculate age from date of birth\n  const calculateAge = (dob: string) => {\n    const birthDate = new Date(dob);\n    const ageDifMs = Date.now() - birthDate.getTime();\n    const ageDate = new Date(ageDifMs); // milliseconds from epoch\n    return Math.abs(ageDate.getUTCFullYear() - 1970);\n  };\n\n  // Function to handle form submission\n  const handleSubmit = async (event: React.FormEvent) => {\n    event.preventDefault();\n    const age = calculateAge(dob);\n\n    // Validate age between 18 and 50 years old and display error message if not valid else redirect to home page with user details\n    if (age < 18 || age > 50) {\n      setError('Age must be between 18 and 50.');\n      return;\n    }\n\n    try {\n      const response = await axios.post('http://localhost:5000/api/login', {\n        name,\n        password,\n      });\n\n      if (response.status === 200) {\n        window.location.href = `/home?name=${name}&age=${age}`;\n      }\n    } catch (err) {\n      setError('Authentication failed. Please check your credentials.');\n    }\n  };\n\n  return (\n    <Container\n      maxWidth=\"sm\"\n      sx={{\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'center',\n        minHeight: '100vh',\n      }}\n    >\n      <Typography variant=\"h4\" align=\"center\" gutterBottom>\n        Login\n      </Typography>\n      {error && (\n        <Typography color=\"error\" align=\"center\" gutterBottom>\n          {error}\n        </Typography>\n      )}\n      <form onSubmit={handleSubmit} style={{ width: '100%' }}>\n        <TextField\n          fullWidth\n          label=\"Name\"\n          margin=\"normal\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          required\n        />\n        <TextField\n          fullWidth\n          label=\"Date of Birth\"\n          type=\"date\"\n          margin=\"normal\"\n          InputLabelProps={{ shrink: true }}\n          value={dob}\n          onChange={(e) => setDob(e.target.value)}\n          required\n        />\n        <TextField\n          fullWidth\n          label=\"Password\"\n          type=\"password\"\n          margin=\"normal\"\n          value={password}\n          onChange={(e) => setPassword(e.target.value)}\n          required\n        />\n        <Button type=\"submit\" variant=\"contained\" color=\"primary\" fullWidth>\n          Login\n        </Button>\n      </form>\n    </Container>\n  );\n};\n\nexport default Login;\n\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,SAASC,MAAM,EAAEC,SAAS,EAAEC,UAAU,EAAEC,SAAS,QAAQ,eAAe;AACxE,OAAOC,KAAK,MAAM,OAAO;;AAEzB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,KAAK,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACY,GAAG,EAAEC,MAAM,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACc,QAAQ,EAAEC,WAAW,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;;EAEtC;EACA,MAAMkB,YAAY,GAAIN,GAAW,IAAK;IACpC,MAAMO,SAAS,GAAG,IAAIC,IAAI,CAACR,GAAG,CAAC;IAC/B,MAAMS,QAAQ,GAAGD,IAAI,CAACE,GAAG,CAAC,CAAC,GAAGH,SAAS,CAACI,OAAO,CAAC,CAAC;IACjD,MAAMC,OAAO,GAAG,IAAIJ,IAAI,CAACC,QAAQ,CAAC,CAAC,CAAC;IACpC,OAAOI,IAAI,CAACC,GAAG,CAACF,OAAO,CAACG,cAAc,CAAC,CAAC,GAAG,IAAI,CAAC;EAClD,CAAC;;EAED;EACA,MAAMC,YAAY,GAAG,MAAOC,KAAsB,IAAK;IACrDA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtB,MAAMC,GAAG,GAAGb,YAAY,CAACN,GAAG,CAAC;;IAE7B;IACA,IAAImB,GAAG,GAAG,EAAE,IAAIA,GAAG,GAAG,EAAE,EAAE;MACxBd,QAAQ,CAAC,gCAAgC,CAAC;MAC1C;IACF;IAEA,IAAI;MACF,MAAMe,QAAQ,GAAG,MAAM3B,KAAK,CAAC4B,IAAI,CAAC,iCAAiC,EAAE;QACnEvB,IAAI;QACJI;MACF,CAAC,CAAC;MAEF,IAAIkB,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;QAC3BC,MAAM,CAACC,QAAQ,CAACC,IAAI,GAAG,cAAc3B,IAAI,QAAQqB,GAAG,EAAE;MACxD;IACF,CAAC,CAAC,OAAOO,GAAG,EAAE;MACZrB,QAAQ,CAAC,uDAAuD,CAAC;IACnE;EACF,CAAC;EAED,oBACEV,OAAA,CAACH,SAAS;IACRmC,QAAQ,EAAC,IAAI;IACbC,EAAE,EAAE;MACFC,OAAO,EAAE,MAAM;MACfC,aAAa,EAAE,QAAQ;MACvBC,UAAU,EAAE,QAAQ;MACpBC,cAAc,EAAE,QAAQ;MACxBC,SAAS,EAAE;IACb,CAAE;IAAAC,QAAA,gBAEFvC,OAAA,CAACJ,UAAU;MAAC4C,OAAO,EAAC,IAAI;MAACC,KAAK,EAAC,QAAQ;MAACC,YAAY;MAAAH,QAAA,EAAC;IAErD;MAAAI,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAY,CAAC,EACZrC,KAAK,iBACJT,OAAA,CAACJ,UAAU;MAACmD,KAAK,EAAC,OAAO;MAACN,KAAK,EAAC,QAAQ;MAACC,YAAY;MAAAH,QAAA,EAClD9B;IAAK;MAAAkC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACI,CACb,eACD9C,OAAA;MAAMgD,QAAQ,EAAE3B,YAAa;MAAC4B,KAAK,EAAE;QAAEC,KAAK,EAAE;MAAO,CAAE;MAAAX,QAAA,gBACrDvC,OAAA,CAACL,SAAS;QACRwD,SAAS;QACTC,KAAK,EAAC,MAAM;QACZC,MAAM,EAAC,QAAQ;QACfC,KAAK,EAAEnD,IAAK;QACZoD,QAAQ,EAAGC,CAAC,IAAKpD,OAAO,CAACoD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QACzCI,QAAQ;MAAA;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACF9C,OAAA,CAACL,SAAS;QACRwD,SAAS;QACTC,KAAK,EAAC,eAAe;QACrBO,IAAI,EAAC,MAAM;QACXN,MAAM,EAAC,QAAQ;QACfO,eAAe,EAAE;UAAEC,MAAM,EAAE;QAAK,CAAE;QAClCP,KAAK,EAAEjD,GAAI;QACXkD,QAAQ,EAAGC,CAAC,IAAKlD,MAAM,CAACkD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QACxCI,QAAQ;MAAA;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACF9C,OAAA,CAACL,SAAS;QACRwD,SAAS;QACTC,KAAK,EAAC,UAAU;QAChBO,IAAI,EAAC,UAAU;QACfN,MAAM,EAAC,QAAQ;QACfC,KAAK,EAAE/C,QAAS;QAChBgD,QAAQ,EAAGC,CAAC,IAAKhD,WAAW,CAACgD,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;QAC7CI,QAAQ;MAAA;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACT,CAAC,eACF9C,OAAA,CAACN,MAAM;QAACiE,IAAI,EAAC,QAAQ;QAACnB,OAAO,EAAC,WAAW;QAACO,KAAK,EAAC,SAAS;QAACI,SAAS;QAAAZ,QAAA,EAAC;MAEpE;QAAAI,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEhB,CAAC;AAAC5C,EAAA,CA5FID,KAAK;AAAA6D,EAAA,GAAL7D,KAAK;AA8FX,eAAeA,KAAK;AAAC,IAAA6D,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}